!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var i in n)("object"==typeof exports?exports:e)[i]=n[i]}}(window,function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";function i(e){for(var t=e.length,n=[],i=0;i<t;i+=1)n.push(e[i]);return n}e.exports={select:function(e){return document.querySelector(e)},selectAll:function(e){return i((arguments.length>1&&void 0!==arguments[1]?arguments[1]:document).querySelectorAll(e))},find:function(e,t){return i(e.querySelectorAll(t))},removeClass:function(e,t){e.classList.remove(t)},addClass:function(e,t){e.classList.add(t)},hasClass:function(e,t){return e.classList.contains(t)},removeElement:function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},closest:function(e,t){for(var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;e&&!n.call(e,t);)e=e.parentElement;return e},getStyle:function(e,t){return window.getComputedStyle(element,null).getPropertyValue(t)},blur:function(){document.activeElement&&document.activeElement.blur()},insertHtml:function(){var e=["beforebegin","afterbegin","beforeend","afterend"];if(!e.includes(position))throw new TypeError("'position' must be one of them: "+e.join("„ÄÅ"));el.insertAdjacentHTML(position,html)}}},,function(e,t,n){},function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();n(2);var s,c=(s=n(0))&&s.__esModule?s:{default:s},u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".lottery",n=arguments[1];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=o({},e.DEFAULTS,n),this.config={containerEl:t instanceof Element?t:document.querySelector(t),items:[],itemsLength:0,current:-1,prize:null,disabled:!1,beginTime:0,currentSpeed:200},this._init()}return r(e,[{key:"_init",value:function(){if(c.default.addClass(this.config.containerEl,"__lottery__"),this.config.items=c.default.find(this.config.containerEl,this.options.items),this.config.itemsLength=this.config.items.length,0===this.config.itemsLength)throw new TypeError("Unable to find items dom");if(this.options.time<5e3)throw new TypeError("options time("+this.options.time+") can't be less than 5000")}},{key:"_begin",value:function(){return this.options.begin(),this.config.beginTime=(new Date).getTime(),c.default.addClass(this.config.containerEl,"__lottery__processing"),this}},{key:"_animate",value:function(e){var t=this;this._itemClass(++this.config.current);var n=(new Date).getTime()-this.config.beginTime;n<2e3&&(this.config.currentSpeed-=6),n>=this.options.time-3e3&&n<this.options.time&&(this.config.currentSpeed+=6),n>=this.options.time?this._location():setTimeout(function(){t._animate()},this.config.currentSpeed)}},{key:"_location",value:function(){var e=this;this.config.spaceStep=this.config.prize-this.config.current,0===this.config.spaceStep?setTimeout(function(){e._end()},this.config.currentSpeed):this.config.spaceStep>0?this._animateStep():(this.config.spaceStep=this.config.itemsLength-this.config.current+this.config.prize,this._animateStep())}},{key:"_animateStep",value:function(){var e=this;setTimeout(function(){e._itemClass(++e.config.current),e.config.spaceStep-=1,0===e.config.spaceStep?e._end():e._animateStep()},this.config.currentSpeed)}},{key:"_itemClass",value:function(e){console.log(e),this.config.items.forEach(function(e){return c.default.removeClass(e,"__lottery__active")}),c.default.addClass(this.config.items[e],"__lottery__active"),this.config.current===this.config.itemsLength-1&&(this.config.current=-1)}},{key:"_end",value:function(){return this.config.beginTime=0,this.config.current=-1,c.default.removeClass(this.config.containerEl,"__lottery__processing"),this.disabled(!1),this.options.end(this.config.prize),this}},{key:"prize",value:function(e){if("number"!=typeof e)throw new TypeError("Expected number type, but get "+(void 0===e?"undefined":i(e)));if(e<0||e>this.config.itemsLength-1)throw new TypeError("Expected number greater than 0 and Less than "+(this.config.itemsLength-1)+";");return this.config.disabled?this:(this.config.prize=e,this)}},{key:"start",value:function(){if(!this.config.prize)throw new TypeError("Please pass prize function a numeric parameter first");return this.config.disabled?this:(this._begin(),this.disabled(!0),this._animate(),this)}},{key:"disabled",value:function(e){return this.config.disabled=e,e?c.default.addClass(this.config.containerEl,"__lottery__disabled"):c.default.removeClass(this.config.containerEl,"__lottery__disabled"),this}}],[{key:"DEFAULTS",get:function(){return{items:".item",time:5e3,begin:new Function,end:new Function}}}]),e}();window.Lottery=u,e.exports=u}])});